type Campaign @entity(immutable: false) {
  id: ID!
  owner: Bytes!
  title: String!
  description: String!
  inviteOnly: Boolean!
  gamemasterFee: BigInt!
  collateral: BigInt!
  state: Int!
  lockedFees: BigInt!
  participantCount: BigInt!
  players: [CampaignPlayer!]! @derivedFrom(field: "campaign")
  votes: [Vote!]! @derivedFrom(field: "campaign")
}

type Player @entity(immutable: false) {
  id: ID!
  name: String!
  likes: BigInt!
  dislikes: BigInt!

  campaigns: [CampaignPlayer!]! @derivedFrom(field: "player")
  reviews: [Review!]! @derivedFrom(field: "recipient")
}

type CampaignPlayer @entity (immutable: false) {
  id: ID!
  campaign: Campaign!
  player: Player!
  state: Int!
  lockedCollateral: BigInt!
}

type Vote @entity (immutable: true) {
  id: ID!
  campaign: Campaign!
  player: Player!
  voteType: Int!
}

type Review @entity (immutable: true) {
  id: ID!
  campaign: Campaign!
  recipient: Player!
  sender: Player!
  score: Int!
  comment: String!
}
